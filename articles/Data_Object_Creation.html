<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Object Creation • pmartR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Object Creation">
<meta property="og:description" content="pmartR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmartR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Convenience_Functions.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/Data_Normalization.html">Data Normalization</a>
    </li>
    <li>
      <a href="../articles/Data_Object_Creation.html">Data Object Creation</a>
    </li>
    <li>
      <a href="../articles/Filter_Functionality.html">Filter Functions</a>
    </li>
    <li>
      <a href="../articles/Graphing_with_pmartR.html">Graphing with pmartR</a>
    </li>
    <li>
      <a href="../articles/RNAseq_Processing_Workflow.html">RNAseq Data Processing</a>
    </li>
    <li>
      <a href="../articles/Statistical_Analysis_with_pmartR.html">Statistical Analysis with the `pmartR` Package</a>
    </li>
    <li>
      <a href="../articles/Trelliscope_Vignette.html">Using Trelliscope Functions with pmartR</a>
    </li>
    <li>
      <a href="../articles/Typical_Processing_Workflow.html">Typical Processing Workflow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pmartR/pmartR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Object Creation</h1>
                        <h4 data-toc-skip class="author">Kelly Stratton,
Lisa Bramer</h4>
            
            <h4 data-toc-skip class="date">2023-03-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pmartR/pmartR/blob/HEAD/vignettes/Data_Object_Creation.Rmd" class="external-link"><code>vignettes/Data_Object_Creation.Rmd</code></a></small>
      <div class="hidden name"><code>Data_Object_Creation.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>pmartR</code> package has been designed around omicsData
objects. These are S3 object classes defined for explicit use within
this package. Current omicsData classes supported are:</p>
<ul>
<li><p>pepData: for unlabeled peptide data, typically generated via
LC-MS/MS</p></li>
<li><p>isobaricpepData: for labeled peptide data, generated via iTRAQ or
TMT labeling</p></li>
<li><p>proData: protein level data, often created from within a pmartR
workflow by “rolling up” the peptide level data</p></li>
<li><p>metabData: metabolite data, often generated by GC-MS or
HILIC</p></li>
<li><p>nmrData: metabolite data generated by NMR</p></li>
<li><p>lipidData: lipid data, often generated via LC-MS</p></li>
<li><p>seqData: sequence data, such as RNAseq</p></li>
</ul>
<p>These objects are structured as lists, with 2 required and 1 optional
component (each component is a data frame). As various
<code>pmartR</code> functions are called on the data objects, attributes
are added to them, and utilized behind the scenes to help ensure proper
order of operations and usage of methods. The components of an omicsData
object are as follows:</p>
<ul>
<li><p><code>pep_edata</code>: <span class="math inline">\(p * (n +
1)\)</span> data frame of expression data, where <span class="math inline">\(p\)</span> is the number of biomolecules observed
and <span class="math inline">\(n\)</span> is the number of samples (an
additional biomolecule identifier/name column should also be present
anywhere in the data frame). Each row corresponds to data for each
biomolecule.</p></li>
<li><p><code>pep_fdata</code>: data frame with <span class="math inline">\(n\)</span> rows. Each row corresponds to a sample
with one column giving the unique sample identifiers found in e_data
column names and other columns providing qualitative and/or quantitative
traits of each sample.</p></li>
<li><p><code>pep_emeta</code>: optional data frame with at least <span class="math inline">\(p\)</span> rows. Each row corresponds to a
biomolecule with one column giving biomolecule names (must be named the
same as the column in <code>e_data</code>) and other columns giving meta
information (e.g. mappings of peptides to proteins or lipids to lipid
classes).</p></li>
</ul>
<p>The first step when analyzing data with <code>pmartR</code> is to
load the libary and create an omicsData object of the appropriate
type.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pmartR/pmartR" class="external-link">pmartR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-data">Example Data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>The <code>pmartRdata</code> package is a companion package to
<code>pmartR</code> that contains a number of example datasets leveraged
throughout the <code>pmartR</code> documentation.</p>
<p>This vignette will utilize the lipid example data from negative
ionization mode. An example of creating an isobaricpepData object is
included in the “Typical Processing Workflow” vignette.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install the pmartRdata package, if needed</span></span>
<span><span class="co"># devtools::install_github("pmartR/pmartRdata")</span></span>
<span></span>
<span><span class="co"># load the pmartRdata package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pmartR/pmartRdata" class="external-link">pmartRdata</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load example e_data, f_data, e_meta for the lipid negative ionization mode dataset</span></span>
<span><span class="va">edata</span> <span class="op">&lt;-</span> <span class="va">lipid_neg_edata</span></span>
<span><span class="va">fdata</span> <span class="op">&lt;-</span> <span class="va">lipid_neg_fdata</span></span>
<span><span class="va">emeta</span> <span class="op">&lt;-</span> <span class="va">lipid_neg_emeta</span></span></code></pre></div>
<div class="section level3">
<h3 id="expression-data-e_data">Expression Data: e_data<a class="anchor" aria-label="anchor" href="#expression-data-e_data"></a>
</h3>
<p>This required data frame contains the measurements for each sample
and biomolecule. Oftentimes the first column contains the biomolecule
names, although any column can contain this information. Remaining
columns correspond to the samples, and the columns names for the samples
must match the sample names in f_data. Each row corresponds to a
biomolecule.</p>
<p>For our example negative ionization mode lipid data, the e_data data
frame looks like this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">edata</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Lipid StrainC_D1_R1 StrainC_D1_R2 StrainC_D1_R5 StrainC_D1_R3</span></span>
<span><span class="co">## 1   Cer(d18:0/14:0)      445725.8       1260287       2528509     1218971.5</span></span>
<span><span class="co">## 2 Cer(d18:0/16:0)_A    10600000.0      30900000      52800000    25100000.0</span></span>
<span><span class="co">## 3 Cer(d18:0/16:0)_B      480217.2       1618519       3087678     1666275.4</span></span>
<span><span class="co">## 4   Cer(d18:0/18:0)     1709470.6       4714938       7465990     4484810.0</span></span>
<span><span class="co">## 5   Cer(d18:0/20:0)      483498.0       1220789       2172556      998706.8</span></span>
<span><span class="co">## 6   Cer(d18:0/22:0)      444571.1       1877654       4609238     1359720.2</span></span>
<span><span class="co">##   StrainC_D1_R4 StrainC_D2_R2 StrainC_D2_R1 StrainC_D2_R3 StrainC_D2_R4</span></span>
<span><span class="co">## 1       2939663       2217700       2011162       1293641       1525448</span></span>
<span><span class="co">## 2      52300000      30600000      29900000      27600000      29600000</span></span>
<span><span class="co">## 3       2845213       2172109       2109035       2233002       2563891</span></span>
<span><span class="co">## 4       9359053       4787902       6605616       5268256       4880907</span></span>
<span><span class="co">## 5       2056002       1932246       2227289       1458024       1695467</span></span>
<span><span class="co">## 6       3666047       3723602       2821416       1725994       2556836</span></span>
<span><span class="co">##   StrainC_D2_R5 StrainC_D3_R4 StrainC_D3_R1 StrainC_D3_R2 StrainC_D3_R3</span></span>
<span><span class="co">## 1       2175756      825699.1     1160144.1       1758934       1486370</span></span>
<span><span class="co">## 2      35500000    16200000.0    23100000.0      27800000      28300000</span></span>
<span><span class="co">## 3       2441349     1391778.4     1687934.8       2374104       1977023</span></span>
<span><span class="co">## 4       5417424     2141125.8     3594957.8       2893652       3180050</span></span>
<span><span class="co">## 5       2164098      681164.3      764404.4       1233342       1092599</span></span>
<span><span class="co">## 6       3445351     1283938.8      928568.4       3183416       2280447</span></span>
<span><span class="co">##   StrainC_D3_R5 StrainA_D1_R2 StrainA_D1_R3 StrainA_D1_R1 StrainA_D1_R5</span></span>
<span><span class="co">## 1       2489295      892039.7      847361.2      691086.5      473943.9</span></span>
<span><span class="co">## 2      46500000    26100000.0    17500000.0    22100000.0    11600000.0</span></span>
<span><span class="co">## 3       4001702     1709295.2     1009221.8     1390733.2      696190.9</span></span>
<span><span class="co">## 4       5304760     4012560.2     3139611.8     3777571.8     1519222.5</span></span>
<span><span class="co">## 5       1947711     1205966.2      744512.8     1106342.8      530948.6</span></span>
<span><span class="co">## 6       3569795     1804932.4     1033371.1     1540350.6     1259042.6</span></span>
<span><span class="co">##   StrainA_D1_R4 StrainA_D2_R1 StrainA_D2_R4 StrainA_D2_R2 StrainA_D2_R5</span></span>
<span><span class="co">## 1      772221.2       2485838       2077216       2012686       2554315</span></span>
<span><span class="co">## 2    20900000.0      41700000      31800000      37600000      37400000</span></span>
<span><span class="co">## 3     1283208.8       2359732       1830136       2468240       2022962</span></span>
<span><span class="co">## 4     3420965.8       4526626       3780004       6411638       5225726</span></span>
<span><span class="co">## 5      805032.1       2308200       1620420       2260432       1980328</span></span>
<span><span class="co">## 6     1611332.5       5655266       3124812       5062968       3552618</span></span>
<span><span class="co">##   StrainA_D2_R3 StrainA_D3_R3 StrainA_D3_R4 StrainA_D3_R5 StrainA_D3_R2</span></span>
<span><span class="co">## 1       1718077       1360021       2209800     1117420.2     1245019.4</span></span>
<span><span class="co">## 2      27600000      24300000      43400000    22500000.0    25500000.0</span></span>
<span><span class="co">## 3       2813494       1656948       2562174     1223453.8     2210856.0</span></span>
<span><span class="co">## 4       3532641       3463171       4347689     2170036.5     2135479.8</span></span>
<span><span class="co">## 5       1427948       1299932       1576625      744365.1      947296.9</span></span>
<span><span class="co">## 6       3131877       2810795       4022180     1555746.2     1769404.1</span></span>
<span><span class="co">##   StrainA_D3_R1 StrainB_D1_R2 StrainB_D1_R5 StrainB_D1_R3 StrainB_D1_R1</span></span>
<span><span class="co">## 1       1275900     1029965.2      527178.6     1005665.1      318597.9</span></span>
<span><span class="co">## 2      22900000    14400000.0    12600000.0    18100000.0     8598328.0</span></span>
<span><span class="co">## 3       2010937     1315405.5     1293831.6     1437467.8      840292.9</span></span>
<span><span class="co">## 4       2305950     3176372.8     3443368.2     7523180.0     2720615.0</span></span>
<span><span class="co">## 5        903178      693888.8      713894.2     1245211.9      574673.1</span></span>
<span><span class="co">## 6       2559024      594238.0      633943.2      617137.9      377420.5</span></span>
<span><span class="co">##   StrainB_D1_R4 StrainB_D2_R2 StrainB_D2_R1 StrainB_D2_R3 StrainB_D2_R4</span></span>
<span><span class="co">## 1      805351.4       2698434       1504156     1061291.8       1806853</span></span>
<span><span class="co">## 2    24000000.0      29900000      22300000    17600000.0      28400000</span></span>
<span><span class="co">## 3     1497054.8       2830858       1423045     1350866.4       1500013</span></span>
<span><span class="co">## 4    11400000.0       5629466       7392206     6158558.5       7952148</span></span>
<span><span class="co">## 5     1796523.9       1606155       1658960     1143442.2       1613223</span></span>
<span><span class="co">## 6      701925.8       1573197       1041264      686938.8       1215007</span></span>
<span><span class="co">##   StrainB_D2_R5 StrainB_D3_R2 StrainB_D3_R1 StrainB_D3_R3 StrainB_D3_R5</span></span>
<span><span class="co">## 1     1044526.1     1008110.0     1762087.9      732518.1     1734152.4</span></span>
<span><span class="co">## 2    18700000.0    15500000.0    25000000.0    16000000.0    24700000.0</span></span>
<span><span class="co">## 3     1238432.9      875198.4     1984433.4     1643986.8     1259269.1</span></span>
<span><span class="co">## 4     6561955.0     5039267.5     6815551.0     4156628.5     6970469.0</span></span>
<span><span class="co">## 5     1096615.5      817045.2     1197861.6      692459.9     1048563.4</span></span>
<span><span class="co">## 6      827401.6      530456.1      871902.3      505479.8      967380.6</span></span>
<span><span class="co">##   StrainB_D3_R4</span></span>
<span><span class="co">## 1      803817.6</span></span>
<span><span class="co">## 2    15200000.0</span></span>
<span><span class="co">## 3     1130213.0</span></span>
<span><span class="co">## 4     3967767.2</span></span>
<span><span class="co">## 5      842133.8</span></span>
<span><span class="co">## 6      536729.8</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="sample-data-f_data">Sample Data: f_data<a class="anchor" aria-label="anchor" href="#sample-data-f_data"></a>
</h3>
<p>This required data frame contains information about each sample. One
column must contain the sample names, which are identical to the column
names in e_data that correspond to the samples. Other information that
may be of use to store in f_data includes:</p>
<ul>
<li><p>Experimental group(s) to which the sample belongs</p></li>
<li><p>Other phenotypic information (e.g. age or sex, time of sampling
if relevant to the experimental design) or properties of the samples
(e.g. sample weight or concentration)</p></li>
<li><p>Run order for the samples</p></li>
<li><p>Batch number, if samples were run in multiple batches</p></li>
</ul>
<p>The type and amount of information to include in f_data depends on
the experiment and the researcher. It is okay to include extra
information that does not get used in the <code>pmartR</code> analysis
pipeline.</p>
<p>For our example negative ionization mode lipid data, the f_data data
frame contains the sample identifier, virus strain, replicate, and
donor.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fdata</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          SampleID   Virus Replicate Donor</span></span>
<span><span class="co">## 107 StrainC_D1_R1 StrainC        R1    D1</span></span>
<span><span class="co">## 109 StrainC_D1_R2 StrainC        R2    D1</span></span>
<span><span class="co">## 110 StrainC_D1_R5 StrainC        R5    D1</span></span>
<span><span class="co">## 112 StrainC_D1_R3 StrainC        R3    D1</span></span>
<span><span class="co">## 113 StrainC_D1_R4 StrainC        R4    D1</span></span>
<span><span class="co">## 134 StrainC_D2_R2 StrainC        R2    D2</span></span></code></pre>
<p>Note that the entries in the SampleID column can be mapped one-to-one
to the column names of e_data (excluding the biomolecule identifier
column). The entries do not have to be in the same order.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">fdata</span><span class="op">$</span><span class="va">SampleID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">edata</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">edata</span><span class="op">)</span> <span class="op">==</span> <span class="st">"Lipid"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">edata</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">edata</span><span class="op">)</span> <span class="op">==</span> <span class="st">"Lipid"</span><span class="op">)</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">fdata</span><span class="op">$</span><span class="va">SampleID</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="biomolecule-metadata-e_meta">Biomolecule Metadata: e_meta<a class="anchor" aria-label="anchor" href="#biomolecule-metadata-e_meta"></a>
</h3>
<p>This optional data frame can contain any metadata associated with the
biomolecules. One column must contain the same biomolecule identifiers
(and the same column name) as the biomolecule identifier name in e_data.
For peptide data that will be rolled up to the protein level, e_meta
should be present and contain the peptide to protein mapping. For lipid
data it can be useful to include the mapping of lipids to various lipid
classes. Metabolites could be mapped to other identifiers (KEGG, InChI
key, etc.).Each row corresponds to a biomolecule.</p>
<p>For our example negative ionization mode lipid data, the e_meta data
frame looks like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">emeta</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Lipid      Row Retention_Time</span></span>
<span><span class="co">## 1   Cer(d18:0/14:0) 510.4902       15.80732</span></span>
<span><span class="co">## 2 Cer(d18:0/16:0)_A 538.5217       16.64928</span></span>
<span><span class="co">## 3 Cer(d18:0/16:0)_B 538.5216       16.81711</span></span>
<span><span class="co">## 4   Cer(d18:0/18:0) 566.5528       17.37118</span></span>
<span><span class="co">## 5   Cer(d18:0/20:0) 594.5845       17.99525</span></span>
<span><span class="co">## 6   Cer(d18:0/22:0) 622.6160       18.53824</span></span></code></pre>
<p>Note that all of the entries in the e_data biomolecule column are
found in the e_meta biomolecule column. Here were are not mapping to
lipid classes, but are recording the Row and Retention Time values for
each lipid.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">edata</span><span class="op">$</span><span class="va">Lipid</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">emeta</span><span class="op">$</span><span class="va">Lipid</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="creating-an-omicsdata-object">Creating an omicsdata Object<a class="anchor" aria-label="anchor" href="#creating-an-omicsdata-object"></a>
</h2>
<p>To create the lipidData object with our example data, we need the 3
data frames and some additional information about the data contained
therein:</p>
<ul>
<li><p>edata_cname: column name for biomolecule identifier column in
e_data data frame</p></li>
<li><p>fdata_cname: column name for sample identifier column in f_data
data frame</p></li>
<li><p>emeta_cname: column name for biomolecule identifier column in
e_meta data frame (can be the same as the edata_cname, if we are not
trying to roll peptides up to protein level)</p></li>
<li><p>data_scale: is the data on the abundance scale, has it already
been log2 or log10 or log transformed, or for seqData objects this is
“count”</p></li>
<li><p>data_types: optional argument for additional information about
the data type; often used if there are datasets for both negative and
positive ionization modes on an instrument</p></li>
<li><p>check.names: optional argument that behaves as in base R,
defaults to TRUE. If we read in a .csv or .xlsx file for e_data file
without specifying , any column names beginning with a number are
automatically prepended with “X” or containing a dash are replaced with
a period. This causes the sample names in e_data to not match the sample
names in f_data, and will prevent the creation of the omicsData
object.</p></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mylipid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.lipidData.html">as.lipidData</a></span><span class="op">(</span>e_data <span class="op">=</span> <span class="va">edata</span>,</span>
<span>                        f_data <span class="op">=</span> <span class="va">fdata</span>,</span>
<span>                        e_meta <span class="op">=</span> <span class="va">emeta</span>,</span>
<span>                        edata_cname <span class="op">=</span> <span class="st">"Lipid"</span>, </span>
<span>                        fdata_cname <span class="op">=</span> <span class="st">"SampleID"</span>,</span>
<span>                        emeta_cname <span class="op">=</span> <span class="st">"Lipid"</span>, </span>
<span>                        data_scale <span class="op">=</span> <span class="st">"abundance"</span>,</span>
<span>                        data_types <span class="op">=</span> <span class="st">"Negative Ion"</span>,</span>
<span>                        check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Now we have an object of class lipidData. Built-in summary and plot
methods now operate on this object and provide additional
information.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mylipid</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "lipidData"</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mylipid</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                    </span></span>
<span><span class="co">## Class                     lipidData</span></span>
<span><span class="co">## Unique SampleIDs (f_data)        45</span></span>
<span><span class="co">## Unique Lipids (e_data)          337</span></span>
<span><span class="co">## Unique Lipids (e_meta)          337</span></span>
<span><span class="co">## Missing Observations             50</span></span>
<span><span class="co">## Proportion Missing            0.003</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/edata_transform.html">edata_transform</a></span><span class="op">(</span><span class="va">mylipid</span>, data_scale <span class="op">=</span> <span class="st">"log2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Data_Object_Creation_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>See “Quality_Control_with_pmartR” vignette for next steps.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lisa Bramer, Kelly Stratton.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
